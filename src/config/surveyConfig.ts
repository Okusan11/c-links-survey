import { SurveyConfig } from '../types';

// ローカル開発用のモックデータ
export const localSurveyConfig: SurveyConfig = {
  "heardFromOptions": [
    "当サロンのホームページ",
    "SNS(インスタグラム、Xなど)",
    "ホットペッパービューティーなどの検索サイト",
    "ご友人・知人からのご紹介",
    "広告(チラシ・看板など)",
    "その他"
  ],
  "serviceDefinitions": [
    {
      "key": "cut",
      "label": "カット",
      "satisfiedOptions": [
        "理想のスタイルに仕上がり、細かな要望もくみ取ってくれた",
        "カウンセリングが丁寧で安心でき、日頃のスタイリングの悩みにもアドバイスをもらえた",
        "髪質や骨格に合わせた提案が的確で、自分に似合うスタイルを見つけられた",
        "店内の清潔感や雰囲気が良く、カット中もスタイリストの細やかな気配りが感じられた",
        "シャンプーやマッサージが気持ちよく、サロンでの時間をリラックスして過ごせた",
        "特になし"
      ],
      "improvementOptions": [
        "待ち時間を短くしてほしい（混雑時にもスムーズに案内されると嬉しい）",
        "予約を取りやすくしてほしい（特に土日や祝日が取りづらいと感じる）",
        "スタイリングやホームケアのアドバイスをより詳しく説明してほしい",
        "価格設定をもう少し抑えてほしい",
        "接客時の配慮や声かけなど細やかな気遣いを増やしてほしい",
        "特になし"
      ]
    },
    {
      "key": "color",
      "label": "カラー",
      "satisfiedOptions": [
        "希望した色味の再現度が高く、イメージ通りの仕上がりで満足できた",
        "ダメージを抑えた施術で安心でき、髪への負担が軽減されたと感じた",
        "事前カウンセリングが充実していて、トーンや色味の詳細まで提案してもらえた",
        "薬剤の刺激やにおいが気にならず、施術中も快適に過ごせた",
        "色落ちやアフターケアに関する説明がわかりやすく、ホームケアもしやすかった",
        "特になし"
      ],
      "improvementOptions": [
        "肌が敏感なので、施術前にパッチテストや細かい確認をしてほしい",
        "色のバリエーションやトレンドの提案をもっとしてほしい",
        "カラーの持ちが良くなるような施術やアドバイスが欲しい",
        "カラー後のダメージケアメニューを充実させてほしい",
        "待ち時間や価格面での改善を検討してほしい",
        "特になし"
      ]
    },
    {
      "key": "perm",
      "label": "パーマ",
      "satisfiedOptions": [
        "理想のカールやウェーブが再現でき、イメージ通りに仕上がった",
        "髪質やダメージに合った施術方法を選んでくれたため、傷みが少なく安心できた",
        "スタイリストの説明が丁寧で安心感があり、不安が軽減された",
        "パーマ後のスタイリングの仕方に関する説明がわかりやすく丁寧だった",
        "パーマ液のにおいが少なく、施術中も気分良く過ごせた",
        "特になし"
      ],
      "improvementOptions": [
        "髪へのダメージを最小限に抑えられるように工夫してほしい",
        "パーマがすぐにとれてしまわないように維持できる方法を提案してほしい",
        "パーマ前後のトリートメントやケアの選択肢を増やしてほしい",
        "パーマ後のスタイリング方法をもう少し細かくレクチャーしてほしい",
        "待合や施術スペースをより快適にしてほしい（雑誌やドリンクサービスなどがあると嬉しい）",
        "特になし"
      ]
    },
    {
      "key": "straightPerm",
      "label": "縮毛矯正",
      "satisfiedOptions": [
        "くせ毛がしっかり伸びて扱いやすくなり、朝のスタイリングが楽になった",
        "丁寧なアイロン操作で、ツヤのある仕上がりになり、髪質がよく見えるようになった",
        "施術時間が思ったより短く、負担が少なかったので助かった",
        "髪へのダメージを最小限に抑える方法を提案してくれたので、仕上がりに安心感があった",
        "スタイリストの知識・技術が豊富で安心でき、疑問点にもすぐ答えてもらえた",
        "特になし"
      ],
      "improvementOptions": [
        "施術時間が長いので、より快適に過ごせるよう工夫してほしい（雑誌やドリンクサービスなどがあると嬉しい）",
        "料金が高めなので、キャンペーンや割引を検討してほしい",
        "縮毛矯正後のケアやホームケア方法をもっと詳しくアドバイスしてほしい",
        "まっすぐになりすぎない自然なストレートに調整できるようにしてほしい",
        "特になし"
      ]
    },
    {
      "key": "treatment",
      "label": "トリートメント",
      "satisfiedOptions": [
        "髪が潤って手触りが良くなり、スタイリングがしやすくなった",
        "毛先のパサつきや枝毛が改善し、見た目の印象が大きく変わった",
        "香りやトリートメント剤の質感が心地よく、リラックスできた",
        "ホームケアなどに関しての説明が丁寧で分かりやすかった",
        "特になし"
      ],
      "improvementOptions": [
        "もう少し価格を抑えたメニューやプランがあると嬉しい",
        "トリートメント効果が長持ちするような追加メニューを提案してほしい",
        "髪質や悩みに合わせた具体的なカウンセリング・トリートメントの種類を増やしてほしい",
        "特になし"
      ]
    },
    {
      "key": "headSpa",
      "label": "ヘッドスパ",
      "satisfiedOptions": [
        "マッサージが気持ちよくリラックスでき、ストレス解消に役立った",
        "頭皮の状態やヘアケアのアドバイスを詳しくしてくれたので、自分でのセルフケアに活かせた",
        "香りや店内の雰囲気が心地よく、施術中にリゾート気分を味わえた",
        "血行が良くなり、髪にハリやコシが出たように感じ、頭皮のコリもほぐれた",
        "特になし"
      ],
      "improvementOptions": [
        "施術スペースや照明などをもっとリラックスできるよう工夫してほしい",
        "施術時間や料金設定を分かりやすく案内してほしい",
        "音楽やアロマなど、さらにリラクゼーションを高める仕掛けを増やしてほしい",
        "特になし"
      ]
    },
    {
      "key": "hairSet",
      "label": "ヘアセット",
      "satisfiedOptions": [
        "パーティーやイベント向けのアレンジが希望通りで、華やかさや個性を演出できた",
        "スタイリング剤やアクセサリーの使い方まで丁寧に教えてくれたので、自分でも再現できそう",
        "短時間で手際よく仕上げてくれて助かり、予定通りに出発できた",
        "崩れにくく、長時間きれいな状態を保てるような工夫をしてくれた",
        "特になし"
      ],
      "improvementOptions": [
        "アレンジのバリエーションをもっと提案してほしい",
        "仕上がりのイメージ共有をより細かくしてほしい",
        "料金プランを分かりやすくしてほしい",
        "特になし"
      ]
    }
  ]
};

/**
 * SSMパラメータをパースしてSurveyConfigオブジェクトを返す関数
 */
export const getSurveyConfig = (): Promise<SurveyConfig> => {
  return new Promise((resolve) => {
    const rawConfig = process.env.REACT_APP_SURVEY_CONFIG;
    
    // 環境変数が設定されている場合はそちらを使用
    if (rawConfig) {
      try {
        const parsed = JSON.parse(rawConfig) as SurveyConfig;
        resolve(parsed);
      } catch (err) {
        console.error('Failed to parse REACT_APP_SURVEY_CONFIG:', err);
        // パース失敗時はローカルデータを使用
        console.info('Using local survey config instead.');
        resolve(localSurveyConfig);
      }
    } else {
      // 環境変数が未設定の場合はローカルデータを使用
      console.info('REACT_APP_SURVEY_CONFIG is not defined. Using local survey config for development.');
      resolve(localSurveyConfig);
    }
  });
}; 